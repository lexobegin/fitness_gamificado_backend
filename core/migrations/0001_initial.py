# Generated by Django 5.2.7 on 2025-10-23 00:14

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Ejercicio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('tipo', models.CharField(choices=[('fuerza', 'Fuerza'), ('cardio', 'Cardio'), ('flexibilidad', 'Flexibilidad'), ('equilibrio', 'Equilibrio'), ('calentamiento', 'Calentamiento')], max_length=100)),
                ('grupo_muscular', models.CharField(blank=True, choices=[('pecho', 'Pecho'), ('espalda', 'Espalda'), ('hombros', 'Hombros'), ('piernas', 'Piernas'), ('brazos', 'Brazos'), ('abdomen', 'Abdomen'), ('gluteos', 'Glúteos'), ('full_body', 'Cuerpo Completo'), ('cardiovascular', 'Cardiovascular')], max_length=100, null=True)),
                ('instrucciones', models.TextField(blank=True, null=True)),
                ('video_url', models.URLField(blank=True, max_length=500, null=True)),
                ('imagen_url', models.URLField(blank=True, max_length=500, null=True)),
                ('duracion_estimada_minutos', models.IntegerField(default=10, help_text='Duración estimada en minutos')),
                ('calorias_estimadas_por_minuto', models.DecimalField(decimal_places=2, default=5.0, help_text='Calorías estimadas por minuto de ejercicio', max_digits=5)),
            ],
            options={
                'verbose_name': 'Ejercicio',
                'verbose_name_plural': 'Ejercicios',
                'db_table': 'ejercicios',
            },
        ),
        migrations.CreateModel(
            name='ItemColeccionable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('tipo_item', models.CharField(choices=[('avatar', 'Avatar'), ('marco', 'Marco de Perfil'), ('fondo', 'Fondo de Perfil'), ('badge', 'Insignia'), ('efecto', 'Efecto Especial'), ('tema', 'Tema de UI'), ('consumible', 'Consumible')], max_length=100)),
                ('rareza', models.CharField(choices=[('comun', 'Común'), ('rara', 'Rara'), ('epica', 'Épica'), ('legendaria', 'Legendaria'), ('mitica', 'Mítica')], max_length=50)),
                ('precio_cristales', models.IntegerField(help_text='Precio en cristales mágicos')),
                ('icono_url', models.URLField(blank=True, max_length=500, null=True)),
                ('imagen_url', models.URLField(blank=True, max_length=500, null=True)),
                ('es_exclusivo', models.BooleanField(default=False)),
                ('esta_activo', models.BooleanField(default=True)),
                ('fecha_creacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('duracion_dias', models.IntegerField(blank=True, help_text='Duración en días (null = permanente)', null=True)),
            ],
            options={
                'verbose_name': 'Item Coleccionable',
                'verbose_name_plural': 'Items Coleccionables',
                'db_table': 'items_coleccionables',
                'ordering': ['tipo_item', 'rareza', 'nombre'],
            },
        ),
        migrations.CreateModel(
            name='Mision',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('descripcion', models.TextField()),
                ('tipo_mision', models.CharField(choices=[('ejercicio', 'Ejercicio'), ('rutina', 'Rutina'), ('consistencia', 'Consistencia'), ('logro', 'Logro Especial'), ('social', 'Social'), ('exploracion', 'Exploración')], max_length=100)),
                ('objetivo', models.IntegerField(help_text='Valor objetivo a alcanzar')),
                ('unidad_objetivo', models.CharField(choices=[('repeticiones', 'Repeticiones'), ('series', 'Series'), ('minutos', 'Minutos'), ('dias', 'Días'), ('rutinas', 'Rutinas'), ('ejercicios', 'Ejercicios'), ('veces', 'Veces')], max_length=50)),
                ('recompensa_xp', models.IntegerField(help_text='Experiencia a recompensar')),
                ('recompensa_cristales', models.IntegerField(default=0)),
                ('fecha_inicio', models.DateField(blank=True, null=True)),
                ('fecha_fin', models.DateField(blank=True, null=True)),
                ('es_recurrente', models.BooleanField(default=False)),
                ('frecuencia_recurrencia', models.CharField(blank=True, choices=[('diaria', 'Diaria'), ('semanal', 'Semanal'), ('mensual', 'Mensual')], max_length=20, null=True)),
                ('esta_activa', models.BooleanField(default=True)),
                ('dificultad', models.CharField(choices=[('facil', 'Fácil'), ('medio', 'Medio'), ('dificil', 'Difícil')], default='medio', max_length=20)),
            ],
            options={
                'verbose_name': 'Misión',
                'verbose_name_plural': 'Misiones',
                'db_table': 'misiones',
                'ordering': ['dificultad', 'recompensa_xp'],
            },
        ),
        migrations.CreateModel(
            name='Usuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('email', models.EmailField(max_length=255, unique=True)),
                ('nombre_usuario', models.CharField(max_length=100, unique=True)),
                ('nombre_completo', models.CharField(blank=True, max_length=200, null=True)),
                ('tipo_usuario', models.CharField(choices=[('administrador', 'Administrador'), ('usuario_final', 'Usuario Final')], default='usuario_final', max_length=20)),
                ('fecha_nacimiento', models.DateField(blank=True, null=True)),
                ('nivel_fisico_actual', models.CharField(choices=[('principiante', 'Principiante'), ('intermedio', 'Intermedio'), ('avanzado', 'Avanzado'), ('experto', 'Experto')], default='principiante', max_length=50)),
                ('puntos_experiencia', models.IntegerField(default=0)),
                ('cristales_magicos', models.IntegerField(default=0)),
                ('fecha_registro', models.DateTimeField(default=django.utils.timezone.now)),
                ('ultimo_acceso', models.DateTimeField(default=django.utils.timezone.now)),
                ('esta_activo', models.BooleanField(default=True)),
                ('is_staff', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'Usuario',
                'verbose_name_plural': 'Usuarios',
                'db_table': 'usuarios',
            },
        ),
        migrations.CreateModel(
            name='CartaEjercicio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('rareza', models.CharField(choices=[('comun', 'Común'), ('rara', 'Rara'), ('epica', 'Épica'), ('legendaria', 'Legendaria'), ('mitica', 'Mítica')], max_length=50)),
                ('atributo_fuerza', models.IntegerField(default=1)),
                ('atributo_resistencia', models.IntegerField(default=1)),
                ('atributo_flexibilidad', models.IntegerField(default=1)),
                ('imagen_url', models.URLField(blank=True, max_length=500, null=True)),
                ('precio_cristales', models.IntegerField(help_text='Precio en cristales mágicos')),
                ('esta_activa', models.BooleanField(default=True)),
                ('fecha_creacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('ejercicio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cartas', to='core.ejercicio')),
            ],
            options={
                'verbose_name': 'Carta de Ejercicio',
                'verbose_name_plural': 'Cartas de Ejercicio',
                'db_table': 'cartas_ejercicio',
            },
        ),
        migrations.CreateModel(
            name='LogActividad',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_actividad', models.CharField(choices=[('ejercicio', 'Ejercicio'), ('mision_completada', 'Misión Completada'), ('nivel_subido', 'Nivel Subido'), ('cristales_ganados', 'Cristales Ganados'), ('login', 'Inicio de Sesión'), ('registro', 'Registro'), ('otro', 'Otro')], max_length=100)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('puntos_ganados', models.IntegerField(default=0)),
                ('cristales_ganados', models.IntegerField(default=0)),
                ('fecha_actividad', models.DateTimeField(default=django.utils.timezone.now)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='logs_actividad', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Log de Actividad',
                'verbose_name_plural': 'Logs de Actividad',
                'db_table': 'logs_actividad',
                'ordering': ['-fecha_actividad'],
            },
        ),
        migrations.CreateModel(
            name='ModeloIA',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_modelo', models.CharField(max_length=200)),
                ('tipo_ejercicio', models.CharField(choices=[('sentadilla', 'Sentadilla'), ('flexiones', 'Flexiones'), ('plancha', 'Plancha'), ('estocadas', 'Estocadas'), ('fondos', 'Fondos'), ('abdominales', 'Abdominales'), ('levantamiento_pesas', 'Levantamiento de Pesas'), ('yoga', 'Posturas de Yoga'), ('general', 'Ejercicio General')], max_length=100)),
                ('version', models.CharField(max_length=50)),
                ('puntos_referencia', models.JSONField(help_text='Puntos corporales de referencia en formato JSON')),
                ('angulos_ideales', models.JSONField(help_text='Ángulos ideales para la postura en formato JSON')),
                ('umbral_precision', models.DecimalField(decimal_places=2, default=0.8, help_text='Umbral mínimo de precisión (0.0 - 1.0)', max_digits=5)),
                ('esta_activo', models.BooleanField(default=True)),
                ('fecha_creacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('accuracy_entrenamiento', models.DecimalField(blank=True, decimal_places=2, help_text='Precisión del modelo en entrenamiento', max_digits=5, null=True)),
            ],
            options={
                'verbose_name': 'Modelo de IA',
                'verbose_name_plural': 'Modelos de IA',
                'db_table': 'modelos_ia',
                'ordering': ['tipo_ejercicio', '-version'],
                'unique_together': {('nombre_modelo', 'version')},
            },
        ),
        migrations.CreateModel(
            name='DeteccionPostura',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_deteccion', models.DateTimeField(default=django.utils.timezone.now)),
                ('puntos_corporales_detectados', models.JSONField(help_text='Puntos corporales detectados en formato JSON')),
                ('precision_deteccion', models.DecimalField(decimal_places=2, help_text='Precisión de la detección (0.0 - 1.0)', max_digits=5)),
                ('puntuacion_tecnica', models.IntegerField(help_text='Puntuación de técnica (0-100)', validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('imagen_analizada_url', models.URLField(blank=True, help_text='URL de la imagen analizada', max_length=500, null=True)),
                ('video_analizado_url', models.URLField(blank=True, help_text='URL del video analizado', max_length=500, null=True)),
                ('duracion_analisis_segundos', models.DecimalField(decimal_places=2, default=0.0, help_text='Duración del análisis en segundos', max_digits=5)),
                ('metadata_analisis', models.JSONField(blank=True, help_text='Metadatos adicionales del análisis', null=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detecciones_postura', to=settings.AUTH_USER_MODEL)),
                ('ejercicio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detecciones_postura', to='core.ejercicio')),
                ('modelo_ia', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detecciones', to='core.modeloia')),
            ],
            options={
                'verbose_name': 'Detección de Postura',
                'verbose_name_plural': 'Detecciones de Postura',
                'db_table': 'detecciones_postura',
                'ordering': ['-fecha_deteccion'],
            },
        ),
        migrations.CreateModel(
            name='PerfilSalud',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('altura_cm', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Altura (cm)')),
                ('peso_kg', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Peso (kg)')),
                ('condiciones_medicas', models.TextField(blank=True, null=True, verbose_name='Condiciones médicas')),
                ('restricciones_ejercicio', models.TextField(blank=True, null=True, verbose_name='Restricciones de ejercicio')),
                ('nivel_actividad', models.CharField(blank=True, choices=[('sedentario', 'Sedentario'), ('ligero', 'Ligero (ejercicio 1-3 días/semana)'), ('moderado', 'Moderado (ejercicio 3-5 días/semana)'), ('activo', 'Activo (ejercicio 6-7 días/semana)'), ('muy_activo', 'Muy Activo (atleta)')], max_length=50, null=True, verbose_name='Nivel de actividad')),
                ('objetivos_fitness', models.TextField(blank=True, null=True, verbose_name='Objetivos de fitness')),
                ('fecha_actualizacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('usuario', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='perfil_salud', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Perfil de Salud',
                'verbose_name_plural': 'Perfiles de Salud',
                'db_table': 'perfiles_salud',
            },
        ),
        migrations.CreateModel(
            name='Rango',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=10)),
                ('nombre_completo', models.CharField(max_length=50)),
                ('subrango', models.CharField(blank=True, max_length=10, null=True)),
                ('puntos_experiencia_minimos', models.IntegerField()),
                ('puntos_experiencia_maximos', models.IntegerField(blank=True, null=True)),
                ('icono_url', models.URLField(blank=True, max_length=500, null=True)),
                ('color_hex', models.CharField(default='#000000', help_text='Color en formato HEX', max_length=7)),
                ('descripcion', models.TextField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Rango',
                'verbose_name_plural': 'Rangos',
                'db_table': 'rangos',
                'ordering': ['puntos_experiencia_minimos'],
                'unique_together': {('nombre', 'subrango')},
            },
        ),
        migrations.AddField(
            model_name='usuario',
            name='rango_actual',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='usuarios', to='core.rango'),
        ),
        migrations.CreateModel(
            name='RetroalimentacionEjecucion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_correccion', models.CharField(choices=[('postura', 'Postura Corporal'), ('alineacion', 'Alineación'), ('rango_movimiento', 'Rango de Movimiento'), ('velocidad', 'Velocidad de Ejecución'), ('respiración', 'Patrón de Respiración'), ('estabilidad', 'Estabilidad'), ('fuerza', 'Aplicación de Fuerza')], max_length=100)),
                ('mensaje_usuario', models.TextField(help_text='Mensaje amigable para el usuario')),
                ('descripcion_tecnica', models.TextField(blank=True, help_text='Descripción técnica de la corrección', null=True)),
                ('nivel_gravedad', models.CharField(choices=[('leve', 'Leve'), ('moderado', 'Moderado'), ('grave', 'Grave'), ('critico', 'Crítico')], max_length=50)),
                ('fue_corregido', models.BooleanField(default=False)),
                ('fecha_correccion', models.DateTimeField(blank=True, null=True)),
                ('sugerencias_mejora', models.TextField(blank=True, help_text='Sugerencias específicas para mejorar', null=True)),
                ('deteccion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='retroalimentaciones', to='core.deteccionpostura')),
                ('ejercicios_complementarios', models.ManyToManyField(blank=True, help_text='Ejercicios recomendados para mejorar esta área', related_name='retroalimentaciones_complementarias', to='core.ejercicio')),
            ],
            options={
                'verbose_name': 'Retroalimentación de Ejecución',
                'verbose_name_plural': 'Retroalimentaciones de Ejecución',
                'db_table': 'retroalimentacion_ejecucion',
                'ordering': ['nivel_gravedad', 'tipo_correccion'],
            },
        ),
        migrations.CreateModel(
            name='Rutina',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('nivel_dificultad', models.CharField(choices=[('principiante', 'Principiante'), ('intermedio', 'Intermedio'), ('avanzado', 'Avanzado'), ('experto', 'Experto')], max_length=50)),
                ('duracion_minutos', models.IntegerField(help_text='Duración total estimada en minutos')),
                ('tipo_ejercicio', models.CharField(choices=[('fuerza', 'Fuerza'), ('cardio', 'Cardio'), ('flexibilidad', 'Flexibilidad'), ('mixto', 'Mixto'), ('completo', 'Entrenamiento Completo')], max_length=100)),
                ('calorias_estimadas', models.IntegerField(help_text='Calorías totales estimadas')),
                ('es_publica', models.BooleanField(default=True)),
                ('fecha_creacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('esta_activa', models.BooleanField(default=True)),
                ('creador', models.ForeignKey(limit_choices_to={'tipo_usuario': 'administrador'}, on_delete=django.db.models.deletion.CASCADE, related_name='rutinas_creadas', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Rutina',
                'verbose_name_plural': 'Rutinas',
                'db_table': 'rutinas',
                'ordering': ['nivel_dificultad', 'nombre'],
            },
        ),
        migrations.CreateModel(
            name='AsignacionRutina',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_asignacion', models.DateField(default=django.utils.timezone.now)),
                ('fecha_vencimiento', models.DateField(blank=True, null=True)),
                ('completada', models.BooleanField(default=False)),
                ('fecha_completacion', models.DateTimeField(blank=True, null=True)),
                ('calificacion_dificultad', models.IntegerField(blank=True, choices=[(1, 'Muy Fácil'), (2, 'Fácil'), (3, 'Moderado'), (4, 'Difícil'), (5, 'Muy Difícil')], help_text='Calificación de dificultad del 1 al 5', null=True)),
                ('notas_usuario', models.TextField(blank=True, help_text='Notas del usuario sobre la rutina', null=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='asignaciones_rutina', to=settings.AUTH_USER_MODEL)),
                ('rutina', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='asignaciones', to='core.rutina')),
            ],
            options={
                'verbose_name': 'Asignación de Rutina',
                'verbose_name_plural': 'Asignaciones de Rutina',
                'db_table': 'asignaciones_rutina',
                'ordering': ['-fecha_asignacion'],
            },
        ),
        migrations.CreateModel(
            name='ColeccionCarta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cantidad', models.IntegerField(default=1)),
                ('fecha_obtencion', models.DateTimeField(default=django.utils.timezone.now)),
                ('fecha_ultima_actualizacion', models.DateTimeField(auto_now=True)),
                ('es_favorita', models.BooleanField(default=False)),
                ('carta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='en_colecciones', to='core.cartaejercicio')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='coleccion_cartas', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Colección de Carta',
                'verbose_name_plural': 'Colección de Cartas',
                'db_table': 'coleccion_cartas',
                'unique_together': {('usuario', 'carta')},
            },
        ),
        migrations.CreateModel(
            name='Dispositivo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('dispositivo_id', models.CharField(max_length=255)),
                ('modelo_dispositivo', models.CharField(blank=True, max_length=200, null=True)),
                ('sistema_operativo', models.CharField(choices=[('android', 'Android'), ('ios', 'iOS'), ('web', 'Web')], max_length=100)),
                ('version_sistema', models.CharField(blank=True, max_length=50, null=True)),
                ('token_notificaciones', models.CharField(blank=True, max_length=500, null=True)),
                ('ultima_conexion', models.DateTimeField(default=django.utils.timezone.now)),
                ('esta_activo', models.BooleanField(default=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dispositivos', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Dispositivo',
                'verbose_name_plural': 'Dispositivos',
                'db_table': 'dispositivos',
                'unique_together': {('usuario', 'dispositivo_id')},
            },
        ),
        migrations.CreateModel(
            name='InventarioUsuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_obtencion', models.DateTimeField(default=django.utils.timezone.now)),
                ('fecha_expiracion', models.DateTimeField(blank=True, null=True)),
                ('esta_equipado', models.BooleanField(default=False)),
                ('usos_restantes', models.IntegerField(default=1, help_text='Usos restantes para items consumibles')),
                ('esta_activo', models.BooleanField(default=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='inventario', to=settings.AUTH_USER_MODEL)),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='en_inventarios', to='core.itemcoleccionable')),
            ],
            options={
                'verbose_name': 'Inventario de Usuario',
                'verbose_name_plural': 'Inventarios de Usuario',
                'db_table': 'inventario_usuarios',
                'unique_together': {('usuario', 'item')},
            },
        ),
        migrations.CreateModel(
            name='ProgresoMision',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('progreso_actual', models.IntegerField(default=0)),
                ('completada', models.BooleanField(default=False)),
                ('fecha_completacion', models.DateTimeField(blank=True, null=True)),
                ('fecha_asignacion', models.DateField(default=django.utils.timezone.now)),
                ('fecha_actualizacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('mision', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progresos', to='core.mision')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='progreso_misiones', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Progreso de Misión',
                'verbose_name_plural': 'Progresos de Misiones',
                'db_table': 'progreso_misiones',
                'unique_together': {('usuario', 'mision')},
            },
        ),
        migrations.CreateModel(
            name='Ranking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_ranking', models.CharField(choices=[('semanal', 'Semanal'), ('mensual', 'Mensual'), ('anual', 'Anual'), ('global', 'Global')], max_length=100)),
                ('posicion', models.IntegerField()),
                ('puntuacion', models.IntegerField(help_text='Puntuación total en el ranking')),
                ('periodo', models.DateField(help_text='Fecha de inicio del período del ranking')),
                ('fecha_actualizacion', models.DateTimeField(default=django.utils.timezone.now)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rankings', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Ranking',
                'verbose_name_plural': 'Rankings',
                'db_table': 'rankings',
                'ordering': ['tipo_ranking', 'periodo', 'posicion'],
                'unique_together': {('usuario', 'tipo_ranking', 'periodo')},
            },
        ),
        migrations.CreateModel(
            name='RutinaEjercicio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('orden', models.IntegerField(help_text='Orden de ejecución en la rutina')),
                ('series', models.IntegerField(help_text='Número de series')),
                ('repeticiones', models.CharField(help_text="Ej: 10-12, 8-10, o '30 segundos' para cardio", max_length=100)),
                ('descanso_segundos', models.IntegerField(default=60, help_text='Segundos de descanso entre series')),
                ('peso_sugerido', models.DecimalField(blank=True, decimal_places=2, help_text='Peso sugerido en kg (opcional)', max_digits=5, null=True)),
                ('notas', models.TextField(blank=True, help_text='Notas adicionales para este ejercicio', null=True)),
                ('ejercicio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='en_rutinas', to='core.ejercicio')),
                ('rutina', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rutina_ejercicios', to='core.rutina')),
            ],
            options={
                'verbose_name': 'Ejercicio en Rutina',
                'verbose_name_plural': 'Ejercicios en Rutinas',
                'db_table': 'rutina_ejercicios',
                'ordering': ['rutina', 'orden'],
                'unique_together': {('rutina', 'orden')},
            },
        ),
    ]
